{"version":3,"file":"patron-web-api.mjs","sources":["../src/history-api/HistoryCurrentPage.ts","../src/history-api/HistoryNewPage.ts"],"sourcesContent":["import { HistoryPageDocument } from \"src/history-api/HistoryPageDocument\";\nimport { GuestType, SourceType } from \"patron-oop\";\n\nexport class HistoryCurrentPage {\n  public constructor(private pageSource: SourceType<HistoryPageDocument>) {\n    window.addEventListener(\"popstate\", (event) => {\n      pageSource.receive({\n        url: document.location,\n        title: \"\",\n        data: event.state,\n      });\n    });\n  }\n\n  public page(guest: GuestType<HistoryPageDocument>) {\n    this.pageSource.receiving(guest);\n    return this;\n  }\n}\n","import { GuestType, SourceType } from \"patron-oop\";\nimport { HistoryPageDocument } from \"src/history-api/HistoryPageDocument\";\n\nexport class HistoryNewPage implements GuestType<HistoryPageDocument> {\n  public constructor(private pageSource: SourceType<HistoryPageDocument>) {}\n\n  public receive(value: HistoryPageDocument): this {\n    history.pushState(value.data ?? {}, value.title, value.url);\n    this.pageSource.receive(value);\n    return this;\n  }\n}\n"],"names":[],"mappings":"AAGO,MAAM,kBAAmB,CAAA;AAAA,EACvB,YAAoB,UAA6C,EAAA;AAA7C,IAAA,IAAA,CAAA,UAAA,GAAA,UAAA,CAAA;AACzB,IAAO,MAAA,CAAA,gBAAA,CAAiB,UAAY,EAAA,CAAC,KAAU,KAAA;AAC7C,MAAA,UAAA,CAAW,OAAQ,CAAA;AAAA,QACjB,KAAK,QAAS,CAAA,QAAA;AAAA,QACd,KAAO,EAAA,EAAA;AAAA,QACP,MAAM,KAAM,CAAA,KAAA;AAAA,OACb,CAAA,CAAA;AAAA,KACF,CAAA,CAAA;AAAA,GACH;AAAA,EAEO,KAAK,KAAuC,EAAA;AACjD,IAAK,IAAA,CAAA,UAAA,CAAW,UAAU,KAAK,CAAA,CAAA;AAC/B,IAAO,OAAA,IAAA,CAAA;AAAA,GACT;AACF;;ACfO,MAAM,cAAyD,CAAA;AAAA,EAC7D,YAAoB,UAA6C,EAAA;AAA7C,IAAA,IAAA,CAAA,UAAA,GAAA,UAAA,CAAA;AAAA,GAA8C;AAAA,EAElE,QAAQ,KAAkC,EAAA;AAC/C,IAAQ,OAAA,CAAA,SAAA,CAAU,MAAM,IAAQ,IAAA,IAAI,KAAM,CAAA,KAAA,EAAO,MAAM,GAAG,CAAA,CAAA;AAC1D,IAAK,IAAA,CAAA,UAAA,CAAW,QAAQ,KAAK,CAAA,CAAA;AAC7B,IAAO,OAAA,IAAA,CAAA;AAAA,GACT;AACF;;;;"}