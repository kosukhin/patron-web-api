{"version":3,"file":"patron-web-api.min.mjs","sources":["../src/history-api/HistoryPoppedPage.ts","../src/history-api/HistoryNewPage.ts"],"sourcesContent":["import { give, GuestType } from \"patron-oop\";\n\nexport class HistoryPoppedPage {\n  public constructor(private pageSource: GuestType<string>) {}\n\n  public watchPop() {\n    window.addEventListener(\"popstate\", (event) => {\n      const { state } = event;\n      if (state?.url) {\n        give(state.url, this.pageSource);\n      }\n    });\n  }\n}\n","import { GuestObjectType } from \"patron-oop\";\n\nexport class HistoryNewPage implements GuestObjectType<string> {\n  public give(url: string) {\n    const correctUrl = location.href.replace(location.origin, \"\");\n    if (url === correctUrl) {\n      return this;\n    }\n    history.pushState(\n      {\n        url,\n        date: Date.now(),\n      },\n      \"Loading...\",\n      url,\n    );\n    return this;\n  }\n}\n"],"names":["HistoryPoppedPage","constructor","pageSource","this","watchPop","window","addEventListener","event","state","url","give","HistoryNewPage","location","href","replace","origin","history","pushState","date","Date","now"],"mappings":"kCAEO,MAAMA,EACJ,WAAAC,CAAoBC,GAAAC,KAAAD,WAAAA,CAAA,CAEpB,QAAAE,GACEC,OAAAC,iBAAiB,YAAaC,IAC7B,MAAAC,MAAEA,GAAUD,EACdC,GAAOC,KACJC,EAAAF,EAAMC,IAAKN,KAAKD,WAAU,GAElC,ECTE,MAAMS,EACJ,IAAAD,CAAKD,GAEV,OAAIA,IADeG,SAASC,KAAKC,QAAQF,SAASG,OAAQ,KAIlDC,QAAAC,UACN,CACER,MACAS,KAAMC,KAAKC,OAEb,aACAX,GARON,IAUF"}