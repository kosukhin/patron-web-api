{"version":3,"file":"patron-web-api.cjs","sources":["../src/history-api/HistoryPoppedPage.ts","../src/history-api/HistoryNewPage.ts"],"sourcesContent":["import { give, GuestType } from \"patron-oop\";\n\nexport class HistoryPoppedPage {\n  public constructor(private pageSource: GuestType<string>) {}\n\n  public watchPop() {\n    window.addEventListener(\"popstate\", (event) => {\n      const { state } = event;\n      if (state?.url) {\n        give(state.url, this.pageSource);\n      }\n    });\n  }\n}\n","import { GuestObjectType } from \"patron-oop\";\n\nexport class HistoryNewPage implements GuestObjectType<string> {\n  public give(url: string) {\n    const correctUrl = location.href.replace(location.origin, \"\");\n    if (url === correctUrl) {\n      return this;\n    }\n    history.pushState(\n      {\n        url,\n        date: Date.now(),\n      },\n      \"Loading...\",\n      url,\n    );\n    return this;\n  }\n}\n"],"names":["give"],"mappings":";;;;AAEO,MAAM,iBAAkB,CAAA;AAAA,EACtB,YAAoB,UAA+B,EAAA;AAA/B,IAAA,IAAA,CAAA,UAAA,GAAA,UAAA,CAAA;AAAA,GAAgC;AAAA,EAEpD,QAAW,GAAA;AAChB,IAAO,MAAA,CAAA,gBAAA,CAAiB,UAAY,EAAA,CAAC,KAAU,KAAA;AAC7C,MAAM,MAAA,EAAE,OAAU,GAAA,KAAA,CAAA;AAClB,MAAA,IAAI,OAAO,GAAK,EAAA;AACd,QAAKA,cAAA,CAAA,KAAA,CAAM,GAAK,EAAA,IAAA,CAAK,UAAU,CAAA,CAAA;AAAA,OACjC;AAAA,KACD,CAAA,CAAA;AAAA,GACH;AACF;;ACXO,MAAM,cAAkD,CAAA;AAAA,EACtD,KAAK,GAAa,EAAA;AACvB,IAAA,MAAM,aAAa,QAAS,CAAA,IAAA,CAAK,OAAQ,CAAA,QAAA,CAAS,QAAQ,EAAE,CAAA,CAAA;AAC5D,IAAA,IAAI,QAAQ,UAAY,EAAA;AACtB,MAAO,OAAA,IAAA,CAAA;AAAA,KACT;AACA,IAAQ,OAAA,CAAA,SAAA;AAAA,MACN;AAAA,QACE,GAAA;AAAA,QACA,IAAA,EAAM,KAAK,GAAI,EAAA;AAAA,OACjB;AAAA,MACA,YAAA;AAAA,MACA,GAAA;AAAA,KACF,CAAA;AACA,IAAO,OAAA,IAAA,CAAA;AAAA,GACT;AACF;;;;;"}